<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MƒÅlama Mana</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Open+Sans&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- PWA manifest -->
  <link rel="manifest" href="manifest.json" />
  <!-- Main stylesheet -->
  <link rel="stylesheet" href="style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <!-- LOGIN PAGE -->
  <div id="login-page" class="card login-page hidden">
    <h2>Login</h2>
    <form id="login-form">
      <label>
        Email:<br>
        <input type="email" id="login-email" placeholder="you@example.com" required autocomplete="username">
      </label><br><br>
      <label>
        Password:<br>
        <input type="password" id="login-password" placeholder="Password" required autocomplete="current-password">
      </label><br><br>
      <button type="submit">Login</button>
    </form>
  </div>

  <!-- APP HEADER -->
  <header class="app-header">
    <div class="header-content">
      <div id="header-greeting">Aloha,</div>
      <h1>MƒÅlama Mana</h1>
      <div id="header-tide-info"></div>
    </div>
  </header>

  <!-- MAIN APP -->
  <div class="app hidden">
    <!-- Two-column layout wrapper -->
    <div class="main-columns">
      <!-- Left Column -->
      <div class="left-column">
        <!-- Moon & Calendar Card -->
        <div class="card moon-tide">
          <div class="calendar-navigation">
            <button id="prev-day-direct" class="calendar-nav-arrow">‚óÄ</button>
            <div id="calendar-toggle" class="calendar-display">
              <span id="calendar-label">Loading...</span>
              <span class="calendar-arrow">‚ñº</span>
            </div>
            <button id="next-day-direct" class="calendar-nav-arrow">‚ñ∂</button>
          </div>
          <div class="calendar-wrapper">
            <div id="calendar-popup" class="calendar-grid hidden">
              <div class="calendar-month">
                <button id="prev-month" class="month-nav">&laquo;</button>
                <button id="prev-day" class="day-nav">&lsaquo;</button>
                <span id="calendar-month-label"></span>
                <button id="next-day" class="day-nav">&rsaquo;</button>
                <button id="next-month" class="month-nav">&raquo;</button>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>S</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th><th>S</th>
                  </tr>
                </thead>
                <tbody id="calendar-body">
                  <!-- JS will fill this -->
                </tbody>
              </table>
            </div>
          </div>
          <div class="moon-row">
            <div class="info">
              <div class="current-date"></div>
              <div id="hawaiian-lunar-info"><em>Loading lunar information...</em></div>
              <div class="moon-phase"></div>
              <div class="astro-lines">
                <div>
                  <span class="icon">üåô</span>Rise: <span id="moonrise-time">--:--</span> Set: <span id="moonset-time">--:--</span>
                </div>
                <div>
                  <span class="icon">‚òÄÔ∏è</span>Rise: <span id="sunrise-time">--:--</span> Set: <span id="sunset-time">--:--</span>
                </div>
              </div>
            </div>
            <div class="moon-image">
              <div class="moon-photo">
                <img id="moon-phase-image" src="" alt="Moon Phase" />
              </div>
            </div>
          </div>
        </div>
        <!-- Dynamic Tabbed Card -->
        <div class="card" id="dynamic-card">
          <div class="card-header" id="dynamic-title">Loading title...</div>
          <div class="card-content">
            <div class="card-tabs">
              <div class="tab-header">
                <button class="tab-btn" data-tab="tabz" title="pic"><i class="fas fa-image"></i></button>
				<button class="tab-btn active" data-tab="tab1" title="Lunar Phase"><i class="fas fa-moon"></i></button>
                <button class="tab-btn" data-tab="tab2" title="Do`s"><i class="fas fa-star"></i></button>
                <button class="tab-btn" data-tab="tab3" title="Dont`s"><i class="fas fa-ban"></i></button>
                <button class="tab-btn" data-tab="tab4" title="Observance"><i class="fas fa-eye"></i></button>
                <button class="tab-btn" data-tab="tab5" title="Color"><i class="fas fa-palette"></i></button>
                <button class="tab-btn" data-tab="tab6" title="olelo"><i class="fas fa-seedling"></i></button>
              </div>
              <div class="tab-content">
                <div class="tab-pane active" id="tab1">Loading Info...</div>
                <div class="tab-pane" id="tab2">Loading Do`s...</div>
                <div class="tab-pane" id="tab3">Loading Dont`s...</div>
                <div class="tab-pane" id="tab4">Loading Observance</div>
                <div class="tab-pane" id="tab5">Loading Color...</div>
                <div class="tab-pane" id="tab6">loading Olelo...</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column -->
      <div class="right-column">
        <div class="tide"></div>
        <div class="today-box">
          <div id="today-snapshot" class="today-snapshot"></div>
        </div>
        <div class="pillars">
          <div class="pillar">
            <h2>ke kino <br>(body)</h2>
            <p>Physical wellbeing & embodied care</p>
          </div>
          <div class="pillar">
            <h2> ªka mana‚Äòo <br>(mind)</h2>
            <p>Inner clarity, wisdom & conscious thought</p>
          </div>
          <div class="pillar">
            <h2>ka ‚Äòuhane <br>(spirit)</h2>
            <p>Spiritual alignment & sacred practice</p>
          </div>
          <div class="pillar">
            <h2>kƒÅnaka<br>& hana</h2>
            <p>Ohana, Friends, work & commitments</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SETTINGS MODAL -->

  <!-- BOTTOM NAVIGATION -->
  <nav class="bottom-nav hidden">
    <a href="#calendar">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
      <span>Dashboard</span>
    </a>
    <a href="#today">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <circle cx="12" cy="12" r="10"></circle>
      </svg>
      <span>Today</span>
    </a>
    <a href="#add">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
      <span>IKE</span>
    </a>
    <a href="#more" id="more-button-settings">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <circle cx="5" cy="12" r="2"></circle>
        <circle cx="12" cy="12" r="2"></circle>
        <circle cx="19" cy="12" r="2"></circle>
      </svg>
      <span>More</span>
    </a>
  </nav>
  <!-- MORE POPUP MENU -->
  <div id="more-menu-settings" class="more-menu hidden">
    <button onclick="window.location.href='index2.html'">Home</button>
    <button onclick="window.location.href='settings.html'">Settings</button>
  </div>

  <!-- Firebase CDN Scripts -->
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
  <script src="firebase-init.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/suncalc/1.9.0/suncalc.min.js"></script>
  <script src="app.js"></script>
  <script src="lunarData.js" defer></script>
  <div id="loading-screen">
    <div class="spinner"></div>
  </div>
</body>
</html>
